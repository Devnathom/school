<%- include('../partials/header', { title, page }) %>
<div class="content-header"><div class="container-fluid"><h1><i class="fas fa-school mr-2"></i>จัดการชั้นเรียน</h1></div></div>
<section class="content"><div class="container-fluid">
<div class="card">
  <div class="card-header"><button class="btn btn-primary btn-sm" data-toggle="modal" data-target="#addModal"><i class="fas fa-plus"></i> เพิ่มชั้นเรียน</button></div>
  <div class="card-body">
    <table class="table table-bordered datatable">
      <thead><tr><th>ชั้นเรียน</th><th>ระดับ</th><th>ห้อง</th><th>ความจุ</th><th>จัดการ</th></tr></thead>
      <tbody>
        <% classes.forEach(function(c) { %>
        <tr><td><%= c.name %></td><td><%= c.level %></td><td><%= c.room || '-' %></td><td><%= c.capacity %></td>
        <td><button onclick="confirmDelete('/classes/delete/<%= c.id %>', '<%= c.name %>')" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button></td></tr>
        <% }); %>
      </tbody>
    </table>
  </div>
</div>
</div></section>

<div class="modal fade" id="addModal"><div class="modal-dialog"><div class="modal-content">
<form action="/classes/add" method="POST">
  <div class="modal-header"><h5 class="modal-title">เพิ่มชั้นเรียน</h5><button type="button" class="close" data-dismiss="modal">&times;</button></div>
  <div class="modal-body">
    <div class="form-group"><label>ชื่อชั้นเรียน</label><input type="text" name="name" class="form-control" required placeholder="เช่น ม.1/1"></div>
    <div class="form-group"><label>ระดับชั้น</label><input type="text" name="level" class="form-control" required placeholder="เช่น ม.1"></div>
    <div class="form-group"><label>ห้องเรียน</label><input type="text" name="section" class="form-control" placeholder="เช่น 1"></div>
    <div class="form-group"><label>ห้อง</label><input type="text" name="room" class="form-control" placeholder="เช่น 101"></div>
    <div class="form-group"><label>ความจุ</label><input type="number" name="capacity" class="form-control" value="40"></div>
  </div>
  <div class="modal-footer"><button type="submit" class="btn btn-primary">บันทึก</button></div>
</form>
</div></div></div>

<%- include('../partials/footer', { success: null, error: null }) %>
